Content-type: text/html

<HTML><HEAD><TITLE>Manpage of GEOPM_OMP</TITLE>
</HEAD><BODY>
<H1>GEOPM_OMP</H1>
Section: GEOPM (3)<BR>Updated: 2015-10-16<BR><A HREF="#index">Index</A>
<A HREF="/man/man2html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

geopm_omp.h - geopm interface for OpenMP
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
<B>#include &lt;<A HREF="https://github.com/geopm/geopm/blob/dev/src/geopm_omp.h">geopm_omp.h</A>&gt;</B>

<B>Link with -lgeopm (MPI) or -lgeopmpolicy (non-MPI)</B>

<B>int geopm_no_omp_cpu(int </B><I>num_cpu</I><B>, cpu_set_t *</B><I>no_omp);</I>

</PRE><A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

The
<I>geopm_omp.h</I>

header defines geopm interfaces for interacting with the OpenMP runtime
environment.  This set of interfaces will grow in the future.
<P>

<B>geopm_no_omp_cpu</B>()

sets the
<B><A HREF="CPU_SET.html">CPU_SET</A></B>(3)

given by
<I>no_omp</I>

such that it includes all CPUs not used in an OpenMP parallel region.  This
cpu mask can be used with
<B><A HREF="pthread_attr_setaffinity_np.html">pthread_attr_setaffinity_np</A></B>(3)

to modify the attributes passed to
<B>geopm_ctl_pthread</B>()

so that the pthread created is affinitized to CPUs that do not have an OpenMP
thread affinity.  The mask generated when OpenMP threads are not statically
affinitized is unreliable.  The
<I>no_omp</I>

mask is zeroed and an error code is returned when all online CPUs have an
OpenMP thread affinity.  The
<I>num_cpu</I>

parameter specifies size of the CPU_SET in terms of number of CPUs.
<A NAME="lbAE">&nbsp;</A>
<H2>COPYRIGHT</H2>

Copyright (C) 2015 Intel Corporation. All rights reserved.
<A NAME="lbAF">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="geopm.html">geopm</A></B>(3),

<B><A HREF="geopmctl.html">geopmctl</A></B>(3),

<B><A HREF="geopmkey.html">geopmkey</A></B>(3),

<B><A HREF="geopmpolicy.html">geopmpolicy</A></B>(3),

<B><A HREF="geopm_ctl_c.html">geopm_ctl_c</A></B>(3),

<B><A HREF="geopm_error.html">geopm_error</A></B>(3),

<B><A HREF="geopm_omp.html">geopm_omp</A></B>(3),

<B><A HREF="geopm_policy_c.html">geopm_policy_c</A></B>(3),

<B><A HREF="geopm_prof_c.html">geopm_prof_c</A></B>(3),

<B><A HREF="geopm_version.html">geopm_version</A></B>(3),

<B><A HREF="CPU_SET.html">CPU_SET</A></B>(3),

<B><A HREF="pthread_setaffinity_np.html">pthread_setaffinity_np</A></B>(3),

<B><A HREF="pthread_attr_setaffinity_np.html">pthread_attr_setaffinity_np</A></B>(3)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">COPYRIGHT</A><DD>
<DT><A HREF="#lbAF">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 21:45:29 GMT, November 14, 2015
</BODY>
</HTML>
